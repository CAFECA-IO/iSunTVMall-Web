{extend name="base" /}
{block name="css"}
<link rel="stylesheet" type="text/css" href="__STATIC__/plugins/mmgrid/mmGrid.css?v={$v}" />
{/block}
{block name="js"}
<script src="__STATIC__/plugins/mmgrid/mmGrid.js?v={$v}" type="text/javascript"></script>
<script src="__ADMIN__/staffs/staffs.js?v={$v}" type="text/javascript"></script>
{/block}
{block name="main"}
<style>input[type=password]{width:200px;}</style>
<div id='alertTips' class='alert alert-success alert-tips fade in'>
  <div id='headTip' class='head'><i class='fa fa-lightbulb-o'></i>{:lang('menu_tips')}</div>
  <ul class='body'>
    <li>{:lang('staffs_tips1')}</li>
  </ul>
</div>
<div class="wst-toolbar">
   <input id='key' type='text' class='form-control' placeholder='{:lang("staffs_tips2")}'>
   <button class="btn btn-primary" onclick='javascript:loadGrid(0)'><i class='fa fa-search'></i>{:lang('query')}</button>
   {if WSTGrant('ZYGL_01')}
   <button class="btn btn-success f-right" onclick='javascript:toEdit(0)'><i class='fa fa-plus'></i>{:lang('add')}</button>
   {/if}
   <div style='clear:both'></div>
</div>
<div class='wst-grid'>
<div id="mmg" class="mmg"></div>
<div id="pg" style="text-align: right;"></div>
</div>
<div id='editPassBox' style='display:none;padding-top:5px;'>
  <form id='editPassFrom' autocomplete="off">
   <table class='wst-form'>
      <tr>
         <th style="vertical-align: top;padding-top:20px;">{:lang('new_pass')}：</th>
         <td style="padding-bottom: 0;">
         <input type='password' id='newPass' name='newPass' class='ipt' data-rule="{:lang('new_pass')}: required;length[8~];rpwd" maxLength='20' data-rule-rpwd="[/^(?=.*[a-z])(?=.*[A-Z])(?=.*[1-9])(?=.*[\W|_]).{8,}$/, '{:lang('pass_rule_err')}']"/>
         <div class="notic">{:lang('staffs_tips3')}</div>
         </td>
      </tr>
      <tr>
         <th>{:lang('re_pass')}：</th>
         <td><input type='password' id='newPass2' name='newPass2' class='ipt' data-rule="{:lang('re_pass')}: required;match(newPass);" maxLength='20'/></td>
      </tr>
   </table>
  </form>
</div>
<script>
$(function(){initGrid({$Think.session.WST_STAFF.staffId},{$p});})
</script>
{/block}