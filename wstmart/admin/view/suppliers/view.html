{extend name="base" /}
{block name="css"}
<link rel="stylesheet" type="text/css" href="__STATIC__/plugins/webuploader/webuploader.css?v={$v}" />
<link href="__STATIC__/plugins/validator/jquery.validator.css?v={$v}" rel="stylesheet">
{/block}
{block name="main"}
<style>
    .desc{width:90%;height:auto;word-break: break-all;}
.goodsCat{display:inline-block;width:150px}
.accreds{display:inline-block;width:150px}
.upload-picker div:nth-child(2){top:0!important;left:0!important;width:100%!important;height:100%!important;}
label{font-weight: normal;}
</style>
<form id='editFrom' autocomplete='off'>
<input type='hidden' id='supplierId' name='supplierId' class='a-ipt' value="{$apply['supplierId']}"/>
    <div id='tab' class="layui-tab layui-tab-brief">
        <ul class="layui-tab-title">
            <li class="layui-this">{:lang('company_information')}</li>
            <li>{:lang('supplier_tips2')}</li>
            <li>{:lang('additional_information')}</li>
        </ul>
        <div class="layui-tab-content" style='width:99%;margin-bottom: 10px;'>
            <div class="layui-tab-item layui-show wst-box-top" style="position: relative;">
                <table class='wst-form wst-box-top'>
                    <tr>
                        <th width='170'>{:lang('apply_for_membership')}：</th>
                        <td height='23'>{$apply['loginName']}</td>
                    </tr>
                    <tr>
                        <th width='170'>{:lang('label_orderrefunds_apply_titme')}：</th>
                        <td height='23'>{$apply['applyTime']}</td>
                    </tr>
                    <tr>
                        <th width='170'>{:lang('supp_settlement_sn')}：</th>
                        <td>{$apply['supplierSn']}</td>
                    </tr>
                    {volist name="companyFields" id="vo"}
                        {switch $vo['fieldType']}
                            {case input}
                                {if $vo['isShow']==1}
                                    <tr {if $vo['isRelevance']}id="{$vo['fieldName']}Tr"{/if} {if $vo['isRelevance'] && $apply[$vo['fieldRelevance']] == 0}style='display:none;'{/if} >
                                        <th width='170'>{$vo['fieldTitle']}：</th>
                                        <td height='23'>
                                            <div id="{$vo['fieldName']}">
                                                {$apply[$vo['fieldName']]}
                                            </div>
                                        </td>
                                    </tr>
                                {/if}
                            {/case}
                            {case textarea}
                                {if $vo['isShow']==1}
                                {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr>
                                    <th>{$vo['fieldTitle']}：</th>
                                    <td>
                                        <div class="desc">
                                            {$apply[$vo['fieldName']]}
                                        </div>
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case radio}
                                {if $vo['isShow']==1}
                                {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr >
                                    <th >{$vo['fieldTitle']}：</th>
                                    <td>
                                        {volist name="$fieldAttr" id="voo"}
                                        {php}$fieldAttrValue = explode('||',$voo);{/php}
                                        <label>
                                            <input type='radio' name="{$vo['fieldName']}"  id="{$vo['fieldName']}{$fieldAttrValue[0]}" class='a-ipt' value="{$fieldAttrValue[0]}" onclick='javascript:WST.showHide({$fieldAttrValue[0]},"#{$vo['fieldRelevance']}Tr")' {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}checked{/if}/>{$fieldAttrValue[1]}
                                        </label>
                                        {/volist}
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case checkbox}
                                {if $vo['fieldAttr'] == 'custom'}
                                    <tr >
                                        <th>{$vo['fieldTitle']}：</th>
                                        <td>
                                            {volist name=":WSTGoodsCats(0)" id="voo"}
                                            <label class='goodsCat'>
                                                <input type='checkbox' class='a-ipt' name="{$vo['fieldName']}" value='{$voo["catId"]}' {if $i == 1}data-rule="{$vo['fieldTitle']}:checked" {/if}  {if array_key_exists($voo['catId'],$apply['catsuppliers'])}checked{/if}/>{$voo["catName"]}
                                            </label>
                                            {/volist}
                                        </td>
                                    </tr>
                                {else}
                                    {if $vo['isShow']==1}
                                        {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                        <tr >
                                            <th>{$vo['fieldTitle']}：</th>
                                            <td>
                                                {volist name="$fieldAttr" id="voo"}
                                                {php}$fieldAttrValue = explode('||',$voo);{/php}
                                                <label>
                                                    <input type='checkbox' name="{$vo['fieldName']}"  id="{$vo['fieldName']}" class='a-ipt' value="{$fieldAttrValue[0]}"  {if $vo['isRequire'] == 1}data-rule="{$vo['fieldTitle']}:checked" {/if} {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}checked{/if}/>{$fieldAttrValue[1]}
                                                </label>
                                                {/volist}
                                            </td>
                                         </tr>
                                    {/if}
                                {/if}
                            {/case}
                            {case select}
                                {if $vo['isShow']==1}
                                {php} if($vo['fieldAttr']!='custom')$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr>
                                    <th>{$vo['fieldTitle']}：</th>
                                    <td>
                                        <select id="{$vo['fieldName']}" class='a-ipt'>
                                            {if $vo['fieldAttr']!='custom'}
                                                {volist name="$fieldAttr" id='voo'}
                                                {php}$fieldAttrValue = explode('||',$voo);{/php}
                                                <option value="{$fieldAttrValue[0]}" {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}selected{/if} >{$fieldAttrValue[1]}</option>
                                                {/volist}
                                            {else}
                                                {php}
                                                    $tablejoin = [];
                                                    $tablejoin['table'] = '__BANKS_LANGS__ bl';
                                                    $tablejoin['relate'] = 'bl.bankId=a.bankId and langId='.WSTCurrLang();
                                                    $banks = WSTTableJoin('banks',[$tablejoin],['dataFlag'=>1,'isShow'=>1],'a.bankId,bankName',100);
                                                    foreach($banks as $aky => $bank){
                                                {/php}
                                                <option value="{$bank['bankId']}" {if $apply[$vo['fieldName']]==$bank['bankId']}selected{/if}>{$bank['bankName']}</option>
                                                {php}}{/php}
                                            {/if}
                                        </select>
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case other}
                                {switch $vo['fieldAttr']}
                                    {case area}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th >{$vo['fieldTitle']}：</th>
                                            <td>
                                                <select id="{$vo['fieldName']}_0" class="j-{$vo['fieldName']}" data-name="{$vo['fieldName']}" level="0" onchange="WST.ITAreas({id:'{$vo['fieldName']}_0',val:this.value,isRequire:true,className:'j-{$vo['fieldName']}'});" data-value="{$apply[$vo['fieldName']]}">
                                                    <option value="">-{:lang('select')}-</option>
                                                    {php}
                                                    $areas = WSTTable('areas',['isShow'=>1,'dataFlag'=>1,'parentId'=>0],'areaId,areaName',100,'areaSort desc');
                                                    foreach($areas as $aky => $area){
                                                    {/php}
                                                    <option value="{$area['areaId']}">{$area['areaName']}</option>
                                                    {php}}{/php}
                                                </select>
                                            </td>
                                        </tr>
                                        {if $vo['isMap']}
                                            {if(WSTConf('CONF.mapKey'))}
                                                <tr>
                                                    <th>&nbsp;</th>
                                                    <td>
                                                        <div id="container"  style='width:700px;height:400px'></div>
                                                        <input type='hidden' id='mapLevel' class='a-ipt'  value="{$apply['mapLevel']}"/>
                                                        <input type='hidden' id='longitude' class='a-ipt'  value="{$apply['longitude']}"/>
                                                        <input type='hidden' id='latitude' class='a-ipt'  value="{$apply['latitude']}"/>
                                                    </td>
                                                </tr>
                                            {/if}
                                        {/if}
                                        {/if}
                                    {/case}
                                    {case date}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th >{$vo['fieldTitle']}：</th>
                                            <td>
                                                <input type='text' id="{$vo['fieldName']}" readonly class='a-ipt laydate'  {if $vo['isRequire']==1}data-rule="{$vo['fieldTitle']}:required;"{/if} data-timely="2" value="{$apply[$vo['fieldName']]}"/>
                                                {if $vo['dateRelevance']}
                                                {php}$dateRelevance = explode(',',$vo['dateRelevance']);{/php}
                                                {if array_key_exists($dateRelevance[0],$apply) && array_key_exists($dateRelevance[1],$apply)}
                                                - <input type='text' id="{$dateRelevance[0]}" readonly class='a-ipt laydate'  data-timely="2" value="{$apply[$dateRelevance[0]]}" {if $apply[$dateRelevance[1]]==1}style='display:none'{/if} />&nbsp;&nbsp;&nbsp;<label><input type='checkbox' name='{$dateRelevance[1]}' id='{$dateRelevance[1]}' class='a-ipt' onclick='WST.showHide(this.checked?0:1,"#{$dateRelevance[0]}")' {if $apply[$dateRelevance[1]]==1}checked{/if}  value='1'/>{$dateRelevance[2]}</label>
                                                {/if}
                                                {/if}
                                            </td>
                                        </tr>
                                        {/if}
                                    {/case}
                                    {case time}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th >{$vo['fieldTitle']}：</th>
                                            <td>
                                                <select class='a-ipt time-component' id="{$vo['fieldName']}" v="{$apply[$vo['fieldName']]}"></select>
                                                {if $vo['timeRelevance']}
                                                {:lang('to')}
                                                <select class='a-ipt time-component' id="{$vo['timeRelevance']}" v="{$apply[$vo['timeRelevance']]}"></select>
                                                {/if}
                                            </td>
                                        </tr>
                                        {/if}
                                    {/case}
                                    {case file}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th>{$vo['fieldTitle']}：</th>
                                            <td>
                                                {if (int)$vo['fileNum']>1}
                                                {php}$imgArr = array_filter(explode(',',$apply[$vo['fieldName']]));{/php}
                                                <div id="{$vo['fieldName']}ImgBox">
                                                    {volist name="$imgArr" id='voo'}
                                                    <div style="width:75px;float:left;margin-right:5px;">
                                                        <a href='__RESOURCE_PATH__/{$voo}' target='_blank'>
                                                            <img class="{$vo['fieldName']}_step_pic" width="75" height="75" src="__RESOURCE_PATH__/{$voo}" v="{$voo}">
                                                        </a>
                                                    </div>
                                                    {/volist}
                                                </div>
                                                {else}
                                                <a href="__RESOURCE_PATH__/{$apply[$vo['fieldName']]}" target='_blank'>
                                                <img id="{$vo['fieldName']}Preview" src="__RESOURCE_PATH__/{$apply[$vo['fieldName']]}" {if $apply[$vo['fieldName']] ==''}style='display:none'{/if}
                                                </a>
                                                {/if}
                                            </td>
                                        </tr>
                                        {/if}
                                    {/case}
                                    {default /}
                                {/switch}
                            {/case}
                            {default /}
                        {/switch}
                    {/volist}
                </table>
            </div>

            <div class="layui-tab-item" style="display:none;">
                <table class='wst-form wst-box-top'>

                    {volist name="supplierFields" id="vo"}
                        {switch $vo['fieldType']}
                            {case input}
                                {if $vo['isShow']==1}
                                    <tr {if $vo['isRelevance']}id="{$vo['fieldName']}Tr"{/if} {if $vo['isRelevance'] && $apply[$vo['fieldRelevance']] == 0}style='display:none;'{/if} >
                                        <th width='170' >{$vo['fieldTitle']}：</th>
                                        <td height='23'>
                                            <div id="{$vo['fieldName']}">
                                                {$apply[$vo['fieldName']]}
                                            </div>
                                        </td>
                                    </tr>
                                {/if}
                            {/case}
                            {case textarea}
                                {if $vo['isShow']==1}
                                {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr>
                                    <th>{$vo['fieldTitle']}：</th>
                                    <td>
                                        <div class="desc">
                                            {$apply[$vo['fieldName']]}
                                        </div>
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case radio}
                                {if $vo['isShow']==1}
                                {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr >
                                    <th>{$vo['fieldTitle']}：</th>
                                    <td>
                                        {volist name="$fieldAttr" id="voo"}
                                        {php}$fieldAttrValue = explode('||',$voo);{/php}
                                        <label>
                                            <input type='radio' name="{$vo['fieldName']}"  id="{$vo['fieldName']}{$fieldAttrValue[0]}" class='a-ipt' value="{$fieldAttrValue[0]}" onclick='javascript:WST.showHide({$fieldAttrValue[0]},"#{$vo['fieldRelevance']}Tr")' {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}checked{/if}/>{$fieldAttrValue[1]}
                                        </label>
                                        {/volist}
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case checkbox}
                                {if $vo['fieldAttr'] == 'custom'}
                                    <tr >
                                        <th>{$vo['fieldTitle']}：</th>
                                        <td>
                                            {volist name=":WSTGoodsCats(0)" id="voo"}
                                            <label class='goodsCat'>
                                                <input type='checkbox' class='a-ipt' name="{$vo['fieldName']}" value='{$voo["catId"]}' {if $i == 1}data-rule="{$vo['fieldTitle']}:checked" {/if}  {if array_key_exists($voo['catId'],$apply['catsuppliers'])}checked{/if} />{$voo["catName"]}
                                            </label>
                                            {/volist}
                                        </td>
                                    </tr>
                                {else}
                                    {if $vo['isShow']==1}
                                        {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                        <tr >
                                            <th>{$vo['fieldTitle']}：</th>
                                            <td>
                                                {volist name="$fieldAttr" id="voo"}
                                                {php}$fieldAttrValue = explode('||',$voo);{/php}
                                                <label>
                                                    <input type='checkbox' name="{$vo['fieldName']}"  id="{$vo['fieldName']}" class='a-ipt' value="{$fieldAttrValue[0]}"  {if $vo['isRequire'] == 1}data-rule="{$vo['fieldTitle']}:checked" {/if} {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}checked{/if}/>{$fieldAttrValue[1]}
                                                </label>
                                                {/volist}
                                            </td>
                                        </tr>
                                    {/if}
                                {/if}
                            {/case}
                            {case select}
                                {if $vo['isShow']==1}
                                {php} if($vo['fieldAttr']!='custom')$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr>
                                    <th >{$vo['fieldTitle']}：</th>
                                    <td>
                                        <select id="{$vo['fieldName']}" class='a-ipt'>
                                            {if $vo['fieldAttr']!='custom'}
                                                {volist name="$fieldAttr" id='voo'}
                                                {php}$fieldAttrValue = explode('||',$voo);{/php}
                                                <option value="{$fieldAttrValue[0]}" {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}selected{/if} >{$fieldAttrValue[1]}</option>
                                                {/volist}
                                            {else}
                                                {if $vo['fieldName']=='tradeId'}
                                                    <option value="">-{:lang('select')}-</option>
                                                    {volist name=":WSTTrades(0)" id="td"}
                                                    <option value="{$td['tradeId']}" {if $apply[$vo['fieldName']]==$td['tradeId']}selected{/if}>{$td['tradeName']}</option>
                                                    {/volist}
                                                {else}
                                                    {php}
                                                        $tablejoin = [];
                                                        $tablejoin['table'] = '__BANKS_LANGS__ bl';
                                                        $tablejoin['relate'] = 'bl.bankId=a.bankId and langId='.WSTCurrLang();
                                                        $bankList = WSTTableJoin('banks',[$tablejoin],['dataFlag'=>1,'isShow'=>1],'a.bankId,bankName',100);
                                                    {/php}
                                                    {foreach $bankList as $bk}
                                                    <option value="{$bk['bankId']}" {if $apply[$vo['fieldName']]==$bk['bankId']}selected{/if}>{$bk['bankName']}</option>
                                                    {/foreach}
                                                {/if}
                                            {/if}
                                        </select>
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case other}
                                {switch $vo['fieldAttr']}
                                    {case area}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th>{$vo['fieldTitle']}：</th>
                                            <td>
                                                <select id="{$vo['fieldName']}_0" class="j-{$vo['fieldName']}" data-name="{$vo['fieldName']}" level="0" onchange="WST.ITAreas({id:'{$vo['fieldName']}_0',val:this.value,isRequire:true,className:'j-{$vo['fieldName']}'});" data-value="{$apply[$vo['fieldName']]}">
                                                    <option value="">-{:lang('select')}-</option>
                                                    {php}
                                                    $areas = WSTTable('areas',['isShow'=>1,'dataFlag'=>1,'parentId'=>0],'areaId,areaName',100,'areaSort desc');
                                                    foreach($areas as $aky => $area){
                                                    {/php}
                                                    <option value="{$area['areaId']}">{$area['areaName']}</option>
                                                    {php}}{/php}
                                                </select>
                                            </td>
                                        </tr>
                                        {/if}
                                    {/case}
                                    {case date}
                                        {if $vo['isShow']==1}
                                            <tr>
                                                <th >{$vo['fieldTitle']}：</th>
                                                <td>
                                                    <input type='text' id="{$vo['fieldName']}" readonly class='a-ipt laydate'  {if $vo['isRequire']==1}data-rule="{$vo['fieldTitle']}:required;"{/if} data-timely="2" value="{$apply[$vo['fieldName']]}"/>
                                                    {if $vo['dateRelevance']}
                                                    {php}$dateRelevance = explode(',',$vo['dateRelevance']);{/php}
                                                    {if array_key_exists($dateRelevance[0],$apply) && array_key_exists($dateRelevance[1],$apply)}
                                                    - <input type='text' id="{$dateRelevance[0]}" readonly class='a-ipt laydate'  data-timely="2" value="{$apply[$dateRelevance[0]]}" {if $apply[$dateRelevance[1]]==1}style='display:none'{/if} />&nbsp;&nbsp;&nbsp;<label><input type='checkbox' name='{$dateRelevance[1]}' id='{$dateRelevance[1]}' class='a-ipt' onclick='WST.showHide(this.checked?0:1,"#{$dateRelevance[0]}")' {if $apply[$dateRelevance[1]]==1}checked{/if}  value='1'/>{$dateRelevance[2]}</label>
                                                    {/if}
                                                    {/if}
                                                </td>
                                            </tr>
                                        {/if}
                                    {/case}
                                    {case time}
                                        {if $vo['isShow']==1}
                                            <tr>
                                                <th >{$vo['fieldTitle']}：</th>
                                                <td>
                                                    <select class='a-ipt time-component' id="{$vo['fieldName']}" v="{$apply[$vo['fieldName']]}"></select>
                                                    {if $vo['timeRelevance']}
                                                    {:lang('to')}
                                                    <select class='a-ipt time-component' id="{$vo['timeRelevance']}" v="{$apply[$vo['timeRelevance']]}"></select>
                                                    {/if}
                                                </td>
                                            </tr>
                                        {/if}
                                    {/case}
                                    {case file}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th>{$vo['fieldTitle']}：</th>
                                            <td>
                                                {if (int)$vo['fileNum']>1}
                                                {php}$imgArr = array_filter(explode(',',$apply[$vo['fieldName']]));{/php}
                                                <div id="{$vo['fieldName']}ImgBox">
                                                    {volist name="$imgArr" id='voo'}
                                                    <div style="width:75px;float:left;margin-right:5px;">
                                                        <a href='__RESOURCE_PATH__/{$voo}' target='_blank'>
                                                            <img class="{$vo['fieldName']}_step_pic" width="75" height="75" src="__RESOURCE_PATH__/{$voo}" v="{$voo}">
                                                        </a>
                                                    </div>
                                                    {/volist}
                                                </div>
                                                {else}
                                                <a href="__RESOURCE_PATH__/{$apply[$vo['fieldName']]}" target='_blank'>
                                                <img id="{$vo['fieldName']}Preview" src="__RESOURCE_PATH__/{$apply[$vo['fieldName']]}" {if $apply[$vo['fieldName']] ==''}style='display:none'{/if} width='150'>
                                                </a>
                                                {/if}
                                            </td>
                                        </tr>
                                        {/if}
                                    {/case}
                                    {default /}
                                {/switch}
                            {/case}
                            {default /}
                        {/switch}
                    {/volist}
                </table>
            </div>
            <div class="layui-tab-item" style="display:none;">
                <table class='wst-form wst-box-top'>
                    {volist name="otherFields" id="vo"}
                        {switch $vo['fieldType']}
                            {case input}
                                {if $vo['isShow']==1}
                                    <tr {if $vo['isRelevance']}id="{$vo['fieldName']}Tr"{/if} {if $vo['isRelevance'] && $apply[$vo['fieldRelevance']] == 0}style='display:none;'{/if} >
                                        <th width='170'  {if $vo['fieldComment']}valign="top" style='padding-top: 20px;'{/if}>{$vo['fieldTitle']}{if $vo['isRequire']==1}<font color='red'>*</font>{/if}：</th>
                                        <td height='23'>
                                            <div id="{$vo['fieldName']}">
                                                {$apply[$vo['fieldName']]}
                                            </div>
                                        </td>
                                    </tr>
                                {/if}
                            {/case}
                            {case textarea}
                                {if $vo['isShow']==1}
                                {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr>
                                    <th {if $vo['fieldComment']}valign="top" style='padding-top: 20px;'{/if}>{$vo['fieldTitle']}{if $vo['isRequire']==1}<font color='red'>*</font>{/if}：</th>
                                    <td>
                                        <div class="desc">
                                            {$apply[$vo['fieldName']]}
                                        </div>
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case radio}
                                {if $vo['isShow']==1}
                                {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr >
                                    <th >{$vo['fieldTitle']}：</th>
                                    <td>
                                        {volist name="$fieldAttr" id="voo"}
                                        {php}$fieldAttrValue = explode('||',$voo);{/php}
                                        <label>
                                            <input type='radio' name="{$vo['fieldName']}"  id="{$vo['fieldName']}{$fieldAttrValue[0]}" class='a-ipt' value="{$fieldAttrValue[0]}" onclick='javascript:WST.showHide({$fieldAttrValue[0]},"#{$vo['fieldRelevance']}Tr")' {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}checked{/if}/>{$fieldAttrValue[1]}
                                        </label>
                                        {/volist}
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case checkbox}
                                {if $vo['fieldAttr'] == 'custom'}
                                    <tr >
                                        <th >{$vo['fieldTitle']}：</th>
                                        <td>
                                            {volist name=":WSTGoodsCats(0)" id="voo"}
                                            <label class='goodsCat'>
                                                <input type='checkbox' class='a-ipt' name="{$vo['fieldName']}" value='{$voo["catId"]}' {if $i == 1}data-rule="{$vo['fieldTitle']}:checked" {/if}  {if array_key_exists($voo['catId'],$apply['catsuppliers'])}checked{/if} />{$voo["catName"]}
                                            </label>
                                            {/volist}
                                        </td>
                                    </tr>
                                {else}
                                    {if $vo['isShow']==1}
                                        {php}$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                        <tr >
                                            <th >{$vo['fieldTitle']}：</th>
                                            <td>
                                                {volist name="$fieldAttr" id="voo"}
                                                {php}$fieldAttrValue = explode('||',$voo);{/php}
                                                <label>
                                                    <input type='checkbox' name="{$vo['fieldName']}"  id="{$vo['fieldName']}" class='a-ipt' value="{$fieldAttrValue[0]}"  {if $vo['isRequire'] == 1}data-rule="{$vo['fieldTitle']}:checked" {/if} {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}checked{/if}/>{$fieldAttrValue[1]}
                                                </label>
                                                {/volist}
                                            </td>
                                        </tr>
                                    {/if}
                                {/if}
                            {/case}
                            {case select}
                                {if $vo['isShow']==1}
                                {php} if($vo['fieldAttr']!='custom')$fieldAttr = explode(',',$vo['fieldAttr']);{/php}
                                <tr>
                                    <th >{$vo['fieldTitle']}：</th>
                                    <td>
                                        <select id="{$vo['fieldName']}" class='a-ipt'>
                                            {if $vo['fieldAttr']!='custom'}
                                            {volist name="$fieldAttr" id='voo'}
                                            {php}$fieldAttrValue = explode('||',$voo);{/php}
                                            <option value="{$fieldAttrValue[0]}" {if $apply[$vo['fieldName']]==$fieldAttrValue[0]}selected{/if} >{$fieldAttrValue[1]}</option>
                                            {/volist}
                                            {else}
                                                {if $vo['fieldName']=='tradeId'}
                                                    <option value="">-{:lang('select')}-</option>
                                                    {volist name=":WSTTrades(0)" id="td"}
                                                    <option value="{$td['tradeId']}" {if $apply[$vo['fieldName']]==$td['tradeId']}selected{/if}>{$td['tradeName']}</option>
                                                    {/volist}
                                                {else}
                                                    {php}
                                                        $tablejoin = [];
                                                        $tablejoin['table'] = '__BANKS_LANGS__ bl';
                                                        $tablejoin['relate'] = 'bl.bankId=a.bankId and langId='.WSTCurrLang();
                                                        $bankList = WSTTableJoin('banks',[$tablejoin],['dataFlag'=>1,'isShow'=>1],'a.bankId,bankName',100);
                                                    {/php}
                                                    {foreach $bankList as $bk}
                                                    <option value="{$bk['bankId']}" {if $apply[$vo['fieldName']]==$bk['bankId']}selected{/if}>{$bk['bankName']}</option>
                                                    {/foreach}
                                                {/if}
                                            {/if}
                                        </select>
                                    </td>
                                </tr>
                                {/if}
                            {/case}
                            {case other}
                                {switch $vo['fieldAttr']}
                                    {case area}
                                    {if $vo['isShow']==1}
                                    <tr>
                                        <th >{$vo['fieldTitle']}：</th>
                                        <td>
                                            <select id="{$vo['fieldName']}_0" class="j-{$vo['fieldName']}" data-name="{$vo['fieldName']}" level="0" onchange="WST.ITAreas({id:'{$vo['fieldName']}_0',val:this.value,isRequire:true,className:'j-{$vo['fieldName']}'});" data-value="{$apply[$vo['fieldName']]}">
                                                <option value="">-{:lang('select')}-</option>
                                                {php}
                                                $areas = WSTTable('areas',['isShow'=>1,'dataFlag'=>1,'parentId'=>0],'areaId,areaName',100,'areaSort desc');
                                                foreach($areas as $aky => $area){
                                                {/php}
                                                <option value="{$area['areaId']}">{$area['areaName']}</option>
                                                {php}}{/php}
                                            </select>
                                        </td>
                                    </tr>
                                    {/if}
                                    {/case}
                                    {case date}
                                        {if $vo['isShow']==1}
                                            <tr>
                                                <th >{$vo['fieldTitle']}：</th>
                                                <td>
                                                    <input type='text' id="{$vo['fieldName']}" readonly class='a-ipt laydate'  {if $vo['isRequire']==1}data-rule="{$vo['fieldTitle']}:required;"{/if} data-timely="2" value="{$apply[$vo['fieldName']]}"/>
                                                    {if $vo['dateRelevance']}
                                                        {php}$dateRelevance = explode(',',$vo['dateRelevance']);{/php}
                                                        {if array_key_exists($dateRelevance[0],$apply) && array_key_exists($dateRelevance[1],$apply)}
                                                        - <input type='text' id="{$dateRelevance[0]}" readonly class='a-ipt laydate'  data-timely="2" value="{$apply[$dateRelevance[0]]}" {if $apply[$dateRelevance[1]]==1}style='display:none'{/if} />&nbsp;&nbsp;&nbsp;<label><input type='checkbox' name='{$dateRelevance[1]}' id='{$dateRelevance[1]}' class='a-ipt' onclick='WST.showHide(this.checked?0:1,"#{$dateRelevance[0]}")' {if $apply[$dateRelevance[1]]==1}checked{/if}  value='1'/>{$dateRelevance[2]}</label>
                                                        {/if}
                                                    {/if}
                                                </td>
                                            </tr>
                                        {/if}
                                    {/case}
                                    {case time}
                                        {if $vo['isShow']==1}
                                            <tr>
                                                <th >{$vo['fieldTitle']}：</th>
                                                <td>
                                                    <select class='a-ipt time-component' id="{$vo['fieldName']}" v="{$apply[$vo['fieldName']]}"></select>
                                                    {if $vo['timeRelevance']}
                                                    {:lang('to')}
                                                    <select class='a-ipt time-component' id="{$vo['timeRelevance']}" v="{$apply[$vo['timeRelevance']]}"></select>
                                                    {/if}
                                                </td>
                                            </tr>
                                        {/if}
                                    {/case}
                                    {case file}
                                        {if $vo['isShow']==1}
                                        <tr>
                                            <th >{$vo['fieldTitle']}：</th>
                                            <td>
                                                {if (int)$vo['fileNum']>1}
                                                {php}$imgArr = array_filter(explode(',',$apply[$vo['fieldName']]));{/php}
                                                <div id="{$vo['fieldName']}ImgBox">
                                                    {volist name="$imgArr" id='voo'}
                                                    <div style="width:75px;float:left;margin-right:5px;">
                                                        <a href='__RESOURCE_PATH__/{$voo}' target='_blank'>
                                                            <img class="{$vo['fieldName']}_step_pic" width="75" height="75" src="__RESOURCE_PATH__/{$voo}" v="{$voo}">
                                                        </a>
                                                    </div>
                                                    {/volist}
                                                </div>
                                                {else}
                                                <a href="__RESOURCE_PATH__/{$apply[$vo['fieldName']]}" target='_blank'>
                                                <img id="{$vo['fieldName']}Preview" src="__RESOURCE_PATH__/{$apply[$vo['fieldName']]}" {if $apply[$vo['fieldName']] ==''}style='display:none'{/if} width='150'>
                                                </a>
                                                {/if}
                                            </td>
                                        </tr>
                                        {/if}
                                    {/case}
                                    {default /}
                                {/switch}
                            {/case}
                            {default /}
                        {/switch}
                    {/volist}
                </table>
            </div>
        </div>
    </div>
<fieldset class="layui-elem-field layui-field-title">
<legend>{:lang('supplier_tips4')}</legend>
<table class='wst-form wst-box-top'>
    {if $apply['applyStatus']==2}
    <tr>
       <th width='150'>{:lang('supplier_tips4')}：</th>
       <td class='layui-form'>
          <label>
             <input type='radio' class='a-ipt' name='supplierStatus' id='supplierStatus-1' value='-1' {if $apply['supplierStatus']==-1}checked{/if} onclick='javascript:WST.showHide(1,"#trStatusDesc")' title='{:lang("stop_it")}'>
          </label>
          <label>
             <input type='radio' class='a-ipt' name='supplierStatus' value='1' {if $apply['supplierStatus']==1}checked{/if} onclick='javascript:WST.showHide(0,"#trStatusDesc")' title='{:lang("normal")}'>
          </label>
       </td>
    </tr>
    <tr id='trStatusDesc' {if $apply['supplierStatus']==1}style='display:none'{/if}>
       <th>{:lang('stop_reason')}：</th>
       <td><textarea id='statusDesc' class='a-ipt' style='width:500px;height:100px;' maxLength='100' data-rule="{:lang('stop_reason')}:required(#supplierStatus-1:checked);">{$apply['statusDesc']}</textarea></td>
    </tr>
    <tr>
        <th width='150'>{:lang('due_date')}：</th>
        <td class='layui-form'>
            <input type='text' id="expireDate" class='a-ipt laydate' value="{$apply['expireDate']}" data-rule="{:lang('due_date')}:required;"/>
        </td>
    </tr>
    {else}
    <tr>
        <th width='150'>{:lang('annual_fee_payable')}：</th>
        <td class='layui-form'>
            <span id="totalCatFee">0</span>{:lang('supplier_tips3')}）
        </td>
    </tr>
    <tr>
        <th width='150'>{:lang('shop_tips4')}：</th>
        <td class='layui-form'>
            {$apply['isPay']==1?lang('paid'):lang('unpaid')}
        </td>
    </tr>
    <tr>
        <th width='150'>{:lang('shop_tips5')}：</th>
        <td class='layui-form'>
            {$apply['payAnnualFee']}
        </td>
    </tr>
    <tr>
        <th width='170'>{:lang('brand_apply_result')}：</th>
        <td class='layui-form'>
            <label>
                <input type='radio' class='a-ipt' name='applyStatus'  value='2' {if $apply['applyStatus']==2}checked{/if} onclick='javascript:WST.showHide(0,"#trApplyDesc")' data-rule="{:lang('brand_apply_result')}:checked" title='{}:lang("result_1")'>
            </label>
            <label>
                <input type='radio' class='a-ipt' name='applyStatus' id='applyStatus-1' value='-1' {if $apply['applyStatus']==-1}checked{/if} onclick='javascript:WST.showHide(1,"#trApplyDesc")' title="{:lang('no_pass')}">
            </label>
        </td>
    </tr>
    <tr id='trApplyDesc' {if $apply['applyStatus']==1}style='display:none'{/if}>
    <th>{:lang('result_0_txt')}：</th>
    <td>
        <textarea id='applyDesc' class='a-ipt' style='width:500px;height:100px;' maxLength='100' data-rule="{:lang('result_0_txt')}:required(#applyStatus-1:checked);">{$apply['applyDesc']}</textarea>
        <div style="color:red;">{:lang('shop_tips6')}</div>
    </td>
    </tr>
    {/if}
    <tr>
       <td colspan='2' align='center'>
        <button type="button"  class='btn' onclick="javascript:location.href='{:Url(\'admin/suppliers/\'.$src,\'p=\'.$p)}'"><i class="fa fa-angle-double-left"></i>{:lang('back')}</button>
       </td>
    </tr>
</table>
</fieldset>
</fieldset>
</form>

{/block}
{block name="js"}
<script charset="utf-8" src="{:WSTProtocol()}map.qq.com/api/js?v=2.exp&key={:WSTConf('CONF.mapKey')}"></script>
<script type='text/javascript' src='__STATIC__/plugins/webuploader/webuploader.js?v={$v}'></script>
<script type="text/javascript" src="__STATIC__/plugins/validator/jquery.validator.min.js?v={$v}"></script>
<script src="__ADMIN__/suppliers/suppliers.js?v={$v}" type="text/javascript"></script>
<script>
    $(function() {
        if(window.conf.MAP_KEY){
            var longitude = $('#longitude').val();
            var latitude = $('#latitude').val();
            var mapLevel = $('#mapLevel').val();
            initQQMap(longitude,latitude,mapLevel);
        }

        $(".time-component").each(function (idx, item) {
            var id_selector = $(item).attr('id');
            initTime('#'+id_selector,$('#'+id_selector).attr('v'));
        });

        var laydate = layui.laydate;
        $(".laydate").each(function(idx,item) {
            var id_selector = $(item).attr('id');
            laydate.render({elem: '#'+id_selector});
        });


        $("select[class^='j-']").each(function(idx,item){
            var id_selector = $(item).attr('id');
            var class_selector = $(item).attr('class');
            var datavalue = $(item).attr('data-value');
            if(datavalue){
                var areaPath = $(item).attr('data-value').split("_");
                $('#'+id_selector).val(areaPath[0]);
                var aopts = {id:id_selector,val:areaPath[0],childIds:areaPath,className:class_selector,isRequire:true}
                WST.ITSetAreas(aopts);
            }
        });
    });
</script>
{/block}
