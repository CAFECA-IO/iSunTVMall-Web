{extend name="base" /}
{block name="css"}
<link rel="stylesheet" type="text/css" href="__STATIC__/plugins/mmgrid/mmGrid.css?v={$v}" />
{/block}
{block name="js"}
<script src="__STATIC__/plugins/mmgrid/mmGrid.js?v={$v}" type="text/javascript"></script>
<script src="__ADMIN__/areas/areas.js?v={$v}" type="text/javascript"></script>
<script>
$(function(){initGrid({$p});})
</script>
{/block}
{block name="main"}
<input type='hidden' id='h_areaId' value='{$pArea["areaId"]}'/>
<input type='hidden' id='h_parentId' value='{$pArea["parentId"]}'/>
<div class="wst-toolbar">
  {if condition="($pArea['areaId'] != 0)"}
      {:lang('area_parent')}：{$pArea['areaName']}
  <button class="btn f-right" onclick='javascript:toReturn(0)'><i class="fa fa-angle-double-left"></i>{:lang('back')}</button>
  {/if}
  {if WSTGrant('DQGL_01')}
  <button class="btn btn-success f-right btn-mright" onclick='javascript:toEdit(0,{$pArea["areaId"]})'><i class='fa fa-plus'></i>{:lang('add')}</button>
  {/if}
  <div style='clear:both'></div>
</div>
<form lay-filter='gridForm' class='layui-form wst-grid'>
<div id="mmg" class="mmg"></div>
</form>
<div id="pg" style="text-align: right;"></div>
<div id='areasBox' style='display:none'>
  <form id='areaForm' autocomplete="off" class='layui-form'>
  <input type='hidden' class='ipt' id='areaId' />
  <input type='hidden' class='ipt' id='parentId' />
  <table class='wst-form wst-box-top'>
     <tr>
        <th width='100'>{:lang('label_area_name')}<font color='red'>*</font>：</th>
        <td><input type='text' id='areaName' name="areaName" class='ipt' maxLength='20' style='width:200px;' onblur='javascript:letterOnblur(this)'/></td>
     </tr>
     <tr>
        <th width='100'>{:lang('is_show')}<font color='red'>*</font>：</th>
        <td height='24'>
           <input type="checkbox" id='isShow' name='isShow' value="1" lay-skin="switch" lay-filter="switchTest" class="ipt" lay-text="{:lang('is_show_val')}">
        </td>
     </tr>
     <tr>
        <th width='100'>{:lang('label_area_sort_zm')}<font color='red'>*</font>：</th>
        <td><input type='text' id='areaKey' name='areaKey' class='ipt' style='width:60px;'  maxLength='1'/></td>
     </tr>
     <tr>
        <th width='100'>{:lang('sort')}<font color='red'>*</font>：</th>
        <td><input type='text' id='areaSort' name='areaSort' class='ipt' style='width:60px;' onkeypress='return WST.isNumberKey(event);' onkeyup="javascript:WST.isChinese(this,1)" maxLength='10' value='0'/></td>
     </tr>
  </table>
  </form>
</div>
{/block}