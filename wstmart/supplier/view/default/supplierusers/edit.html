{extend name="default/base" /}
{block name="css"}
<link href="__STATIC__/plugins/validator/jquery.validator.css?v={$v}" rel="stylesheet">
{/block}
{block name="main"}
<form name="editForm"  id="editForm" autocomplete="off">
      <table class='wst-form uinfo-form wst-box-top' >
        <tr>
             <td colspan="2">
               <div class='wst-tips-box'>
               <div class='icon'></div>
               <div class='tips'>
               {:lang('supp_users_tips1')}<br/>
               {:lang('supp_users_tips2')}</div>
               <div style="clear:both"></div>
               </div>
             </td>
           </tr>
        <tr>
          <th width="100" height='25'>{:lang('label_supp_users_login_name')}：</th>
          <td>
            <input type="hidden" id="token" value='{:WSTConf("CONF.pwdModulusKey")}'/>
            <input type='hidden' id='id' name='id' class="ipt" value='{$object["id"]}' />
            {$object["loginName"]}
          </td>
        </tr>
        <tr>
          <th>{:lang('label_supp_users_old_password')}：</th>
          <td>
            <input id="oldPass" name="oldPass" class="ipt wst-regist-input" tabindex="2" style="ime-mode:disabled;" autocomplete="off" type="password" placeholder="{:lang('label_supp_users_password_plo')}"/>
          </td>
        </tr>
        <tr>
          <th>{:lang('label_supp_users_new_password')}：</th>
          <td>
            <input id="newPass" name="newPass" class="ipt wst-regist-input" tabindex="2" style="ime-mode:disabled;" autocomplete="off" type="password" placeholder="{:lang('label_supp_users_password_plo')}"/>
          </td>
        </tr>
       <tr>
          <th>{:lang('label_supp_users_confirm_new_password')}：</th>
          <td>
            <input id="reNewPass" name="reNewPass" class="ipt wst-regist-input" tabindex="3" autocomplete="off" type="password" placeholder="{:lang('label_supp_users_password_plo')}" data-rule="{:lang('label_supp_users_confirm_password')}: match(newPass)"/>
          </td>
        </tr>
        {if $object["roleId"]>0}
        <tr>
          <th>{:lang('label_supp_users_role')}<font color='red'>*</font>：</th>
          <td>
            <select id="roleId" data-rule="required" class="ipt">
              <option value="" >{:lang('select')}</option>
              {volist name="roles" id="role"}
              <option value="{$role['id']}" {if $object["roleId"]==$role['id']}selected{/if}>{$role["roleName"]}</option>
              {/volist}
            </select>
          </td>
        </tr>
        {/if}
        <tr>
           <td colspan='2' class='wst-bottombar'>
              <button type="button" class="btn btn-primary btn-mright" onclick="javascript:edit({$p})"><i class="fa fa-check"></i>{:lang('save')}</button>
              <button type="button" class="btn" onclick="javascript:location.href='{:Url(\'supplier/supplierusers/index\',\'p=\'.$p)}'"><i class="fa fa-angle-double-left"></i>{:lang('back')}</button>
           </td>
        </tr>
      </table>
    </form>
   </div>
</div>
{/block}
{block name="js"}
<script type="text/javascript" src="__STATIC__/js/rsa.js"></script>
<script type='text/javascript' src='__SUPPLIER__/supplierusers/supplierusers.js?v={$v}'></script>
<script type="text/javascript" src="__STATIC__/plugins/validator/jquery.validator.min.js?v={$v}"></script>
{/block}
