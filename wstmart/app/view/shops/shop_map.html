<html>
<head>
	<title>{:lang('shop_map')}</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<style type="text/css">
    body{
        margin:0;
    }
	#map{
		width:100%;
		height: 100%;
	}
</style>
<body>
    <input type="hidden" id="longitude" value="{$longitude}">
    <input type="hidden" id="latitude" value="{$latitude}">
    <input type="hidden" id="shopName" value="{$shopName}">

    <div id="map"></div>
</body>
<script type="text/javascript" src="{:WSTProtocol()}map.qq.com/api/js?v=2.exp&key={:WSTConf('CONF.mapKey')}"></script>
<script type="text/javascript">
function loadScript() {
	  var latitude = document.getElementById('latitude').value;
	  var longitude = document.getElementById('longitude').value;
	  var shopName = document.getElementById('shopName').value;
    document.getElementsByTagName("title")[0].innerText = shopName + '- {:lang("shop_location")}';
    var myLatlng = new qq.maps.LatLng(latitude,longitude);
	  var myOptions = {
	    zoom: 15,
	    center: myLatlng,
	    mapTypeId: qq.maps.MapTypeId.ROADMAP
	  }
	  var map = new qq.maps.Map(document.getElementById("map"), myOptions);
	  var marker = new qq.maps.Marker({
	        position: myLatlng,
	        map: map
	    });
  var label = new qq.maps.Label({
        position: myLatlng,
        map: map,
        content:shopName
    });
  var cssC = {
        background:'#3A9BFF',
        padding:"2px",
        color: "#fff",
        fontSize: "18px",
    };
  label.setStyle(cssC);
	   }
window.onload = loadScript;
</script>
</html>
