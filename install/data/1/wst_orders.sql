SET FOREIGN_KEY_CHECKS=0;


DROP TABLE IF EXISTS `wst_orders`;
CREATE TABLE `wst_orders` (
  `orderId` int(11) NOT NULL AUTO_INCREMENT,
  `orderNo` varchar(20) NOT NULL,
  `shopId` int(11) NOT NULL,
  `userId` int(11) NOT NULL,
  `orderStatus` tinyint(4) NOT NULL DEFAULT '-2',
  `goodsMoney` decimal(11,2) NOT NULL,
  `deliverType` tinyint(4) NOT NULL DEFAULT '0',
  `deliverMoney` decimal(11,2) NOT NULL DEFAULT '0.00',
  `totalMoney` decimal(11,2) NOT NULL,
  `realTotalMoney` decimal(11,2) NOT NULL DEFAULT '0.00',
  `payType` tinyint(4) NOT NULL DEFAULT '0',
  `payFrom` varchar(20) DEFAULT NULL,
  `isPay` tinyint(4) NOT NULL DEFAULT '0',
  `areaId` int(11) NOT NULL,
  `areaIdPath` varchar(255) DEFAULT NULL,
  `userName` varchar(50) NOT NULL,
  `userAddress` varchar(255) NOT NULL,
  `userPhone` char(20) DEFAULT NULL,
  `orderScore` int(11) NOT NULL DEFAULT '0',
  `isInvoice` tinyint(4) NOT NULL DEFAULT '0',
  `invoiceClient` varchar(255) DEFAULT NULL,
  `orderRemarks` varchar(255) DEFAULT NULL,
  `orderSrc` tinyint(4) NOT NULL DEFAULT '0',
  `needPay` decimal(11,2) DEFAULT '0.00',
  `payRand` int(11) DEFAULT '1',
  `orderType` int(11) DEFAULT '0',
  `isRefund` tinyint(4) NOT NULL DEFAULT '0',
  `isAppraise` tinyint(4) DEFAULT '0',
  `cancelReason` int(11) DEFAULT '0',
  `rejectReason` int(11) DEFAULT '0',
  `rejectOtherReason` varchar(255) DEFAULT NULL,
  `isClosed` tinyint(4) NOT NULL DEFAULT '0',
  `goodsSearchKeys` text,
  `orderunique` varchar(50) NOT NULL,
  `receiveTime` datetime DEFAULT NULL,
  `deliveryTime` datetime DEFAULT NULL,
  `tradeNo` varchar(100) DEFAULT NULL,
  `dataFlag` tinyint(4) NOT NULL DEFAULT '1',
  `createTime` datetime NOT NULL,
  `settlementId` int(11) DEFAULT '0',
  `commissionFee` decimal(11,2) DEFAULT '0.00',
  `scoreMoney` decimal(11,2) DEFAULT '0.00',
  `useScore` int(11) DEFAULT '0',
  `orderCode` varchar(20) DEFAULT 'order',
  `extraJson` text,
  `orderCodeTargetId` int(11) DEFAULT '0',
  `noticeDeliver` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '提醒发货 0:未提醒 1:已提醒',
  `invoiceJson` text COMMENT '发票信息',
  `lockCashMoney` decimal(11,2) DEFAULT '0.00' COMMENT '锁定提现金额',
  `payTime` datetime DEFAULT NULL,
  `isBatch` tinyint(4) DEFAULT '0',
  `totalPayFee` int(11) DEFAULT '0',
  `isMakeInvoice` tinyint(4) DEFAULT '0' COMMENT '是否开发票 1:是 0:否',
  `afterSaleEndTime` datetime DEFAULT NULL COMMENT '售后结束时间,确认收货时间+后台设置的售后有效天数',
  `getScoreVal` decimal(11,2) NOT NULL DEFAULT '0.00' COMMENT '获得的积分数可抵扣的金额',
  `refundedPayMoney` decimal(11,2) DEFAULT '0.00' COMMENT '已退款支付金额',
  `refundedScore` int(10) unsigned DEFAULT '0' COMMENT '已退款积分',
  `refundedScoreMoney` decimal(11,2) DEFAULT '0.00' COMMENT '已退款积分抵扣金额',
  `refundedGetScore` int(10) unsigned DEFAULT '0' COMMENT '已退款 购买商品获得的积分(用户本身购买商品可获得的积分),即失效的获得积分数',
  `refundedGetScoreMoney` decimal(11,2) DEFAULT '0.00' COMMENT '已退款 购买商品获得的积分可抵扣的金额',
  `storeType` int(11) DEFAULT '0' COMMENT '自提点类型 1:店铺自提点 2：平台',
  `storeId` int(11) DEFAULT '0' COMMENT '自提点ID',
  `verificationCode` varchar(20) DEFAULT '0' COMMENT '核验码',
  `verificationTime` datetime DEFAULT NULL COMMENT '核验时间',
  PRIMARY KEY (`orderId`),
  KEY `shopId` (`shopId`,`dataFlag`),
  KEY `userId` (`userId`,`dataFlag`),
  KEY `isRefund` (`isRefund`),
  KEY `orderStatus` (`orderStatus`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;